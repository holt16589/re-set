{"ast":null,"code":"var _jsxFileName = \"/Users/kevinholt/Documents/CS50/projects/re-set/client/src/containers/SearchResults/SearchResults.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { withRouter } from 'react-router';\nimport ScrollUp from 'components/UI/ScrollUp/ScrollUp';\nimport taken from 'assets/taken.png';\nimport 'containers/SearchResults/SearchResults.css';\nimport Spinner from 'components/UI/Spinner/Spinner';\nimport * as spotifyFunctions from 'spotifyFunctions';\n\nclass SearchResults extends Component {\n  constructor() {\n    super();\n\n    this.scrollHandler = () => {\n      if (window.pageYOffset === 0) {\n        this.setState({\n          showScrollBtn: false\n        });\n      } else {\n        this.setState({\n          showScrollBtn: true\n        });\n      }\n    };\n\n    this.artistClickHandler = (name, uri) => {\n      this.props.history.push({\n        pathname: '/setlists',\n        state: {\n          artistName: name,\n          artistUri: uri\n        }\n      });\n    };\n\n    this.state = {\n      searchValue: null,\n      loading: false,\n      result: null,\n      showScrollBtn: false\n    };\n  }\n\n  componentWillMount() {\n    this.setState({\n      searchValue: this.props.location.state.searchValue\n    });\n  }\n\n  componentDidMount() {\n    if (this.state.searchValue) {\n      this.setState({\n        loading: true\n      });\n      spotifyFunctions.searchForArtist(this.state.searchValue).then(response => {\n        let searchResult = response.artists.items;\n        this.setState({\n          loading: false,\n          result: searchResult\n        });\n      }).catch(error => {\n        this.setState({\n          loading: false\n        });\n        console.log(error);\n      });\n    }\n\n    window.addEventListener('scroll', this.scrollHandler);\n  }\n\n  render() {\n    let displayResults = '';\n    let displayScrollBtn = null;\n\n    if (this.state.result) {\n      displayResults = Object.keys(this.state.result).map(artistKey => {\n        if (this.state.result[artistKey].images.length > 2) {\n          return /*#__PURE__*/React.createElement(Row, {\n            key: artistKey,\n            className: \"mb-4\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(Col, {\n            md: {\n              span: 8,\n              offset: 2\n            },\n            className: \"resultBody mb-4 my-auto\",\n            onClick: () => this.artistClickHandler(this.state.result[artistKey].name, this.state.result[artistKey].uri),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            className: \"roundedImg\",\n            src: this.state.result[artistKey].images[1].url,\n            alt: this.state.result[artistKey].name,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }\n          }), /*#__PURE__*/React.createElement(\"h3\", {\n            className: \"mt-3\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }\n          }, this.state.result[artistKey].name)));\n        } else {\n          return /*#__PURE__*/React.createElement(Row, {\n            key: artistKey,\n            className: \"mb-4\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(Col, {\n            md: {\n              span: 8,\n              offset: 2\n            },\n            className: \"resultBody mb-4 my-auto\",\n            onClick: () => this.artistClickHandler(this.state.result[artistKey].name, this.state.result[artistKey].uri),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            className: \"roundedImg\",\n            src: taken,\n            alt: this.state.result[artistKey].name,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }\n          }), /*#__PURE__*/React.createElement(\"h3\", {\n            className: \"mt-3\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"artistName\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 46\n            }\n          }, this.state.result[artistKey].name))));\n        }\n      });\n\n      if (Object.keys(this.state.result).length === 0) {\n        displayResults = /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 42\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          md: {\n            span: 8,\n            offset: 2\n          },\n          className: \"resultBody mb-4 my-auto\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }\n        }, \"No matching artists were found, please try searching again!\")));\n      }\n    }\n\n    if (this.state.loading) {\n      displayResults = /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 34\n        }\n      });\n    }\n\n    if (this.state.showScrollBtn) {\n      displayScrollBtn = /*#__PURE__*/React.createElement(ScrollUp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 34\n        }\n      });\n    } else {\n      displayScrollBtn = null;\n    }\n\n    return /*#__PURE__*/React.createElement(Container, {\n      className: \"results-section mb-5\",\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"resultsTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 36\n      }\n    }, \"Results\")), displayResults, displayScrollBtn);\n  }\n\n}\n\nexport default withRouter(SearchResults);","map":{"version":3,"sources":["/Users/kevinholt/Documents/CS50/projects/re-set/client/src/containers/SearchResults/SearchResults.js"],"names":["React","Component","Container","Row","Col","withRouter","ScrollUp","taken","Spinner","spotifyFunctions","SearchResults","constructor","scrollHandler","window","pageYOffset","setState","showScrollBtn","artistClickHandler","name","uri","props","history","push","pathname","state","artistName","artistUri","searchValue","loading","result","componentWillMount","location","componentDidMount","searchForArtist","then","response","searchResult","artists","items","catch","error","console","log","addEventListener","render","displayResults","displayScrollBtn","Object","keys","map","artistKey","images","length","span","offset","url"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { withRouter } from 'react-router';\nimport ScrollUp from 'components/UI/ScrollUp/ScrollUp';\nimport taken from 'assets/taken.png';\nimport 'containers/SearchResults/SearchResults.css';\nimport Spinner from 'components/UI/Spinner/Spinner';\nimport * as spotifyFunctions from 'spotifyFunctions';\n\nclass SearchResults extends Component {\n       constructor(){\n                super();\n                this.state={\n                    searchValue: null,\n                    loading: false,\n                    result: null,\n                    showScrollBtn: false\n                }   \n            }\n            \n            componentWillMount() {\n                this.setState({searchValue: this.props.location.state.searchValue});\n            }\n\n            componentDidMount(){\n                if(this.state.searchValue){\n                this.setState({loading: true});\n                spotifyFunctions.searchForArtist(this.state.searchValue)\n              .then((response => {\n                let searchResult = response.artists.items;\n                this.setState({loading: false, result: searchResult});\n              }))   \n              .catch((error => {\n                this.setState({loading: false});\n                console.log(error);\n              }));\n                }\n\n                window.addEventListener('scroll', this.scrollHandler)\n            }\n\n            scrollHandler = () => {\n              if(window.pageYOffset === 0){\n                this.setState({showScrollBtn: false});\n            }\n            else{\n              this.setState({showScrollBtn: true});\n            }\n            }\n\n            artistClickHandler = (name, uri) => {\n              this.props.history.push({\n                pathname: '/setlists',\n                state: { artistName: name, artistUri: uri}\n              })\n            }\n\n\n        render () {\n            let displayResults = '';\n            let displayScrollBtn = null;\n            if(this.state.result){\n                displayResults =  Object.keys( this.state.result )\n                .map( artistKey => {\n                  if(this.state.result[artistKey].images.length > 2){\n                    return (\n                      <Row key={artistKey} className=\"mb-4\">\n                        <Col md={{ span: 8, offset: 2 }} className=\"resultBody mb-4 my-auto\" onClick={() => this.artistClickHandler(this.state.result[artistKey].name, this.state.result[artistKey].uri)}>\n                        <img className=\"roundedImg\" src={this.state.result[artistKey].images[1].url} alt={this.state.result[artistKey].name}/>\n                        <h3 className=\"mt-3\">{this.state.result[artistKey].name}</h3>\n                        </Col>\n                        </Row>\n                        ); \n                  }\n                  else{\n                    return (\n                      <Row key={artistKey} className=\"mb-4\">\n                        <Col md={{ span: 8, offset: 2 }} className=\"resultBody mb-4 my-auto\" onClick={() => this.artistClickHandler(this.state.result[artistKey].name, this.state.result[artistKey].uri)}>\n                        <img className=\"roundedImg\" src={taken} alt={this.state.result[artistKey].name}/>\n                        <h3 className=\"mt-3\"><span className=\"artistName\">{this.state.result[artistKey].name}</span></h3>\n                        </Col>\n                        </Row>\n                        ); \n                  }\n            \n                      } );\n                      if(Object.keys( this.state.result ).length === 0){\n                        displayResults = <Row>\n                          <Col md={{ span: 8, offset: 2 }} className=\"resultBody mb-4 my-auto\">\n                            <h3>No matching artists were found, please try searching again!</h3>\n                            </Col>\n                        </Row>\n                      }\n            }\n            if( this.state.loading ){\n                displayResults = <Spinner />\n            }\n\n            if( this.state.showScrollBtn ){\n              displayScrollBtn = <ScrollUp />;\n            }\n            else{\n              displayScrollBtn = null;\n            }\n\n        return(\n            <Container className = \"results-section mb-5\" fluid>\n              <h1 className=\"mb-5\"><span className=\"resultsTitle\">Results</span></h1>\n              {displayResults}\n                {displayScrollBtn}\n                </Container>\n                )       \n        }\n    }\n    \nexport default withRouter(SearchResults);"]},"metadata":{},"sourceType":"module"}