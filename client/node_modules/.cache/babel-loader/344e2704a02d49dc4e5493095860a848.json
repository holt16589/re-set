{"ast":null,"code":"import { response } from 'express';\nimport Spotify from 'spotify-web-api-js';\nconst spotifyWebApi = new Spotify();\nexport function getHashParams() {\n  var hashParams = {};\n  var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1); //eslint-disable-next-line\n\n  while (e = r.exec(q)) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n  }\n\n  return hashParams;\n}\nexport function setToken(params) {\n  spotifyWebApi.setAccessToken(params.access_token);\n}\nexport async function getDisplayName() {\n  const response = await spotifyWebApi.getMe();\n  return response;\n}\nexport async function searchForArtist(query) {\n  const response = await spotifyWebApi.searchArtists(query);\n  return response;\n}\nexport async function searchForSong(artistName, songName) {\n  let query = 'track:' + songName + ' artist:' + artistName;\n  const response = await spotifyWebApi.searchTracks(query, {\n    limit: 1\n  });\n  return response;\n}\nexport async function createPlaylist(playlistName, userID) {\n  const response = await spotifyWebApi.createPlaylist(userID, {\n    name: playlistName\n  });\n  console.log(response);\n  return response;\n} // export async function addPlaylistTracks(playlistID, trackList){\n//     const response = await spotifyWebApi.addTracksToPlaylist(playlistID, trackList);\n//     console.log(response);\n//     return response;\n// }","map":{"version":3,"sources":["/Users/kevinholt/Documents/CS50/projects/re-set/client/src/spotifyFunctions.js"],"names":["response","Spotify","spotifyWebApi","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","setToken","params","setAccessToken","access_token","getDisplayName","getMe","searchForArtist","query","searchArtists","searchForSong","artistName","songName","searchTracks","limit","createPlaylist","playlistName","userID","name","console","log"],"mappings":"AAAA,SAASA,QAAT,QAAyB,SAAzB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,MAAMC,aAAa,GAAG,IAAID,OAAJ,EAAtB;AAEA,OAAO,SAASE,aAAT,GAAyB;AAC5B,MAAIC,UAAU,GAAG,EAAjB;AACA,MAAIC,CAAJ;AAAA,MAAOC,CAAC,GAAG,sBAAX;AAAA,MACIC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CADR,CAF4B,CAI5B;;AACA,SAAQN,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAZ,EAAuB;AACpBH,IAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACF;;AACD,SAAOD,UAAP;AACD;AAEH,OAAO,SAASU,QAAT,CAAmBC,MAAnB,EAA2B;AAC9Bb,EAAAA,aAAa,CAACc,cAAd,CAA6BD,MAAM,CAACE,YAApC;AACH;AAED,OAAO,eAAeC,cAAf,GAAgC;AACpC,QAAMlB,QAAQ,GAAG,MAAME,aAAa,CAACiB,KAAd,EAAvB;AACA,SAAOnB,QAAP;AACF;AAED,OAAO,eAAeoB,eAAf,CAA+BC,KAA/B,EAAqC;AACxC,QAAMrB,QAAQ,GAAG,MAAME,aAAa,CAACoB,aAAd,CAA4BD,KAA5B,CAAvB;AACA,SAAOrB,QAAP;AACH;AAED,OAAO,eAAeuB,aAAf,CAA6BC,UAA7B,EAAyCC,QAAzC,EAAkD;AACrD,MAAIJ,KAAK,GAAG,WAAWI,QAAX,GAAsB,UAAtB,GAAmCD,UAA/C;AACA,QAAMxB,QAAQ,GAAG,MAAME,aAAa,CAACwB,YAAd,CAA2BL,KAA3B,EAAkC;AAAEM,IAAAA,KAAK,EAAG;AAAV,GAAlC,CAAvB;AACA,SAAO3B,QAAP;AACH;AAED,OAAO,eAAe4B,cAAf,CAA8BC,YAA9B,EAA4CC,MAA5C,EAAmD;AACtD,QAAM9B,QAAQ,GAAG,MAAME,aAAa,CAAC0B,cAAd,CAA6BE,MAA7B,EAAqC;AAACC,IAAAA,IAAI,EAAEF;AAAP,GAArC,CAAvB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYjC,QAAZ;AACA,SAAOA,QAAP;AACH,C,CAED;AACA;AACA;AACA;AACA","sourcesContent":["import { response } from 'express';\nimport Spotify from 'spotify-web-api-js';\n\nconst spotifyWebApi = new Spotify();\n\nexport function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    //eslint-disable-next-line\n    while ( e = r.exec(q)) {\n       hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\nexport function setToken (params) {\n    spotifyWebApi.setAccessToken(params.access_token);\n}\n\nexport async function getDisplayName() {\n   const response = await spotifyWebApi.getMe();\n   return response;\n}\n\nexport async function searchForArtist(query){\n    const response = await spotifyWebApi.searchArtists(query);\n    return response;\n}\n\nexport async function searchForSong(artistName, songName){\n    let query = 'track:' + songName + ' artist:' + artistName;\n    const response = await spotifyWebApi.searchTracks(query, { limit : 1 });\n    return response;\n}\n\nexport async function createPlaylist(playlistName, userID){\n    const response = await spotifyWebApi.createPlaylist(userID, {name: playlistName});\n    console.log(response);\n    return response;\n}\n\n// export async function addPlaylistTracks(playlistID, trackList){\n//     const response = await spotifyWebApi.addTracksToPlaylist(playlistID, trackList);\n//     console.log(response);\n//     return response;\n// }"]},"metadata":{},"sourceType":"module"}